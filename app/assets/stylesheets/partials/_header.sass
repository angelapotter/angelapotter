=nav__link--active( $color: map-get( $header-props, color-light ) )
  &:after
    +transform( scaleX( 1 ) )
    background: $color

.header-push,
.header
  +box-sizing( border-box )
  height: map-get( $header-props, height )

  +mq( map-get( $header-bps, nav-logo-stack ) )
    height: map-get( $header-props, height-mobile )

  +mq( page( width ) + 16px )
    font-size: 95%

  +mq( 915px )
    font-size: 90%

  +mq( 460px )
    font-size: 80%
    padding-left: 0
    padding-right: 0

  +mq( map-get($header-bps, nav-logo-stack) )
    padding: 5px 0

.header
  +flexbox
  +justify-content( space-between )
  position: fixed
  top: 0
  left: 0
  right: 0
  z-index: z-index( header )
  padding: map-get( $header-props, padding-y ) page( padding-x )
  overflow: visible
  line-height: 1.6

  .container
    position: relative

  +mq( 700px )
    padding-left: page( padding-x-mobile )
    padding-right: page( padding-x-mobile )

.header--light
  .header__home-link h2
    background-image: image-url( 'home-link--dark.png' )
  .nav__link
    color: map-get( $header-props, color-dark )

    +active-link-states
      +nav__link--active( $color: map-get( $header-props, color-dark ) )

    &.active
      +nav__link--active( $color: map-get( $header-props, color-dark ) )

.headroom
  +transition( transform transition( lg ), background transition( lg ) )

.headroom--pinned
  +transform( translateY( 0% ) )

.headroom--unpinned
  +transform( translateY( -100% ) )

.headroom--top
  background: transparent

.header__home-link,
.header__nav--primary,
.nav__link
  height: 100%

.header__home-link,
.header__nav--primary
  +flexbox
  +align-items( center )

.header__home-link

  +mq( map-get( $header-bps, nav-logo-stack ) )
    display: none

  h2
    $width: 208px
    $height: 29px
    display: block
    width: $width
    height: $height
    margin-top: 3px
    overflow: hidden
    background-image: image-url( 'home-link.png' )
    background-size: $width $height
    font-weight: bold
    text-indent: 100%

.header__nav--primary
  list-style-type: none
  padding-left: 0
  margin: 0 auto
  text-align: center

  +mq( map-get( $header-bps, nav-logo-stack ), min-width )
    margin-right: -1em

  li
    display: inline-block
    vertical-align: middle


    &:first-child
      padding-left: 0

    &:last-child
      padding-right: 0

.nav__link
  $transition: transition( md ) ease-in-out
  display: block
  position: relative
  padding-left: 1em
  padding-right: 1em
  font-size: em( 19px )
  color: map-get( $header-props, color-light )
  text-transform: uppercase

  &:after
    +transform( scaleX( 0 ) )
    +transition( background-color $transition, transform $transition )
    display: block
    content: ''
    height: 0.2em
    margin: 0 auto
    background: transparent

  +active-link-states
    +nav__link--active

  &.active
    +nav__link--active

  +mq( map-get( $header-bps, nav-logo-stack ) )
    padding-top: 0.7em
    padding-bottom: 0.4em
