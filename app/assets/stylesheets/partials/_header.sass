%nav__link--active
  &:after
    +transform( scaleX( 1 ) )
    background: white

.header
  +box-sizing( border-box )
  position: fixed
  top: 0
  left: 0
  right: 0
  z-index: z-index( header )
  padding: map-get( $header-props, padding-y ) page( padding-y )
  overflow: visible
  background: map-get( $header-props, background-opaque )
  line-height: 1.6

  .container
    position: relative

  +mq( page( width ) + 16px )
    font-size: 95%

  +mq( 915px )
    font-size: 90%

  +mq( 460px )
    font-size: 80%
    padding-left: 0
    padding-right: 0

  +mq( map-get($header-bps, nav-logo-stack) )
    padding: 5px 0 10px

.headroom
  +transition( transform transition( lg ), background transition( lg ) )

.headroom--pinned
  +transform( translateY( 0% ) )

.headroom--unpinned
  +transform( translateY( -100% ) )

.headroom--top
  background: transparent

  &.header--portfolio-items
    background: map-get( $header-props, background-opaque )

.headroom--not-top
  background: map-get( $header-props, background-opaque )

.header__home-link h2,
.nav__link
  padding-top: 1em
  padding-bottom: 0.8em

.header__home-link
  display: block
  float: left
  text-align: center

  +mq( map-get( $header-bps, nav-logo-stack ) )
    display: none

  h2
    font-size: em( 23px )
    font-weight: bold
    color: map-get( $header-props, color-default )

  img
    display: block
    width: 262px
    height: 30px

.header__nav--primary
  list-style-type: none
  height: 100%
  padding-left: 0
  margin: 0
  text-align: center

  +mq( map-get( $header-bps, nav-logo-stack ), min-width )
    float: right
    margin-right: -1em

  li
    display: inline-block
    vertical-align: middle


    &:first-child
      padding-left: 0

    &:last-child
      padding-right: 0

.nav__link
  $transition: transition( md ) ease-in-out
  $font-size: 19px
  display: block
  position: relative
  padding-left: 1em
  padding-right: 1em
  color: map-get( $header-props, color-default )
  font-size: em( $font-size )
  text-transform: uppercase

  &:after
    +transform( scaleX( 0 ) )
    +transition( background-color $transition, transform $transition )
    display: block
    content: ''
    height: 0.2em
    margin: 0 auto
    background: transparent

  +active-link-states
    @extend %nav__link--active

  &.active
    @extend %nav__link--active

  +mq( map-get( $header-bps, nav-logo-stack ) )
    padding-top: 0.7em
    padding-bottom: 0.4em

.header-push
  height: map-get( $header-props, height )
  background: map-get( $header-props, background-opaque )

  +mq( map-get( $header-bps, nav-logo-stack ) )
    height: map-get( $header-props, height-mobile )
