.portfolio-item-samples
  +transform( translateY( -100% ) )
  +transition( transform portfolio-item-sample( transition ) )
  position: fixed
  top: 0
  right: 0
  bottom: 0
  left: 0
  z-index: z-index( modal )
  color: white

  &.opening
    .portfolio-item-sample
      +transition( transform 0s )

  &.open
    +transform( translateY( 0 ) )

.portfolio-item-sample
  +transform( translateX( 100% ) )
  +transition( transform 0.3s )
  position: absolute
  left: 0
  right: 0
  top: 0
  bottom: 0
  background: transparentize( brand( primary ), 0.03 )

  img
    display: block
    clear: both
    width: auto
    height: auto
    max-width: 100%
    max-height: 65vh
    margin: 4vh auto

    +mq-aspect-greater-than-usual
      margin: 2vh auto

    +mq-aspect-greater-than-double
      float: left
      width: 50vw
      margin: 6vh 2vw 0 5vw

  &.left-of-active
    +transform( translateX( -100% ) )

  &.active
    +transform( translateX( 0 ) )

.portfolio-item-sample__content
  padding: 5vh 10vh

  +mq-aspect-less-than-square
    padding: 5vh

@each $item-props in $portfolio-items
  .portfolio-item-cover--#{ map-get( $item-props, slug ) }
    .porfolio-item-cover__content
      background: map-get( $item-props, color )

  .portfolio-item-sample--#{ map-get( $item-props, slug ) }
    background: transparentize( map-get( $item-props, color ), 0.03 )

    .link--case-study
      +solid-button( $bg: white, $fg: map-get( $item-props, color ) )

.portfolio-item-sample__nav
  @extend %button-hover-effect
  z-index: z-index( modal ) + 1
  cursor: pointer

.portfolio-item-sample__close
  $size: 2.5em
  position: absolute
  top: 1em
  right: 1em
  width: $size
  height: $size

  &:before,
  &:after
    content: ''
    position: absolute
    top: 50%
    right: 0
    width: 100%
    height: 2px
    background: white

  &:before
    +transform( rotate( 45deg ) )

  &:after
    +transform( rotate( -45deg ) )

  +mq( 480px )
    width: 1.8em
    height: 1.8em

.portfolio-item-sample__prev,
.portfolio-item-sample__next
  $padding-y: 0.1em
  $padding-x: 0.1em
  @extend .fa
  position: absolute
  top: 50%
  margin-top: ( 0.5em + $padding-y ) * -1
  padding: $padding-y $padding-x
  font-size: em( 90px )
  line-height: 1
  z-index: z-index( page ) + 1

  +mq-aspect-less-than-square
    top: auto
    bottom: 1vh
    font-size: em( 70px )

.portfolio-item-sample__prev
  @extend .fa-angle-left
  left: 1vh

.portfolio-item-sample__next
  @extend .fa-angle-right
  right: 1vh

.portfolio-item-sample__title
  font-size: em( 32px )

  +mq( 440px )
    font-size: em( 30px )

  +mq( 350px )
    font-size: em( 26px )

.portfolio-item-sample__blurb
  margin-top: 1em

  @media ( max-height: 600px ), ( max-width: 350px )
    display: none

.portfolio-item-sample__links
  text-align: right

  a + a
    margin-left: 0.8em

  .link--outbound
    @extend .btn-default

  +mq( portfolio-item-sample( progress-float-bp ) + 1, min-width )
    float: right

  @media ( max-width: 500px ), ( #{ $mq-aspect-greater-than-double } )
    a
      display: block
      + a
        margin-left: 0
        margin-top: 0.8em

  +mq-aspect-less-than-square
    text-align: center

  +mq-aspect-greater-than-double
    float: left
    min-width: 30vw
    margin-top: 6vh
    text-align: left
    font-size: 90%

.portfolio-item-sample__progress
  +mq( portfolio-item-sample( progress-float-bp ) )
    position: absolute
    left: 0
    right: 0
    bottom: 0
    padding-bottom: 1.7em
    text-align: center

  +mq-aspect-greater-than-double
    margin-top: 4vh

+mq( portfolio-item-sample( progress-float-bp ) + 1, min-width )
  .portfolio-item-sample__blurb
    margin-top: 0
    font-size: em( 18px)

  .portfolio-item-sample__progress
    float: left
    padding-top: 0.8em
